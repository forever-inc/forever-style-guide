/* =header
---------------------------------------------------------------------------- */
$color-nav-bg:  color('gray-100');
$color-nav-active: color('gray-200');
$color-nav-hover: color('gray-300');
$header_height: 50px;
$header_active_border_height: 3px;
$header_link_icons: 24px;
$header_link_icon_padding: 10px;
$library_padding: 20px;

.navbar {
  height: $header_height;
  @extend %card-style;

  @media (min-width: $screen-sm-min) {
    border-radius: 0;
  }

  .navbar-brand {
    display: block;
    margin-left: -15px;
    padding: 10px 30px;
    width: 250px;
    height: $header_height;

    .navbar-brand-logo {
      max-width: 190px;
      max-height: 50px;
    }
  }
}

.navbar-default {
  .navbar-toggle {
    padding: 10px;
    border: 0;

    &:hover,
    &:active,
    &:focus {
      background-color: transparent;
    }
  }
  .navbar-collapse {
    border: 0;
  }
}

.navbar-fixed-top {
  .navbar-collapse {
    max-height: none;
  }
}

.nav {

  &.nav-pills {
    @extend %card-style;
  }

  .nav-item {
    @include clearfix;
    @extend %font-face-regular;
    font-size: font-size(400);

    .nav-item-tab {
      height: $header_height;
      color: color('gray-500');

      &:hover {
        background-color: color('gray-300');
      }
    }

    .nav-item-list {
      color: color(gray-500);
    }

    .nav-item-list-is_first {
      border-bottom: 1px solid color('gray-400');
    }
    .nav-item-list-is_last {
      border-top: 1px solid color('gray-400');
    }

    .nav-item-icon {
      font-size: font-size(500);
      line-height: 20px;
      vertical-align: bottom;
    }

    .nav-item-label {
      line-height: 20px;
    }

    &:hover {
      .nav-item-tab, .nav-item-list  {
        color: color('secondary');
      }

      .nav-item-list {
        color: color('secondary');
        background-color: $color-nav-hover;
      }
    }

    &.active {
      .nav-item-tab {
        color: color('gray-600');
        background-color: $color-nav-active;
        border-right: 1px solid color('gray-300');
        border-bottom: 1px solid color('gray-300');
        border-left: $header_active_border_height solid color('primary');

        @media (min-width: $screen-sm-min) {
          border-right: 1px solid color('gray-300');
          border-bottom: 3px solid color('primary');
          border-left: 1px solid color('gray-300');
        }
      }

      .nav-item-list {
        color: color('gray-600');
        background-color: $color-nav-active;
        border-top: 1px solid color('gray-300');
        border-bottom: 1px solid color('gray-300');
        border-left: 3px solid color('primary');
      }

      // neutralize hover on active nav selection
      &:hover .nav-item-tab, .nav-item-list {
        color: color('gray-600');
        background-color: $color-nav-active;
      }
    }

    &.login {
      a {
        display: inline-block;
      }
    }
  }
}

.navbar-dropdown {

  .nav,
  .collapse
  .dropup,
  .dropdown {
    position: static;
    &.dropdown-left {
      position: relative;
      .dropdown-menu {
        right: 0;
      }
    }
  }

  .container {
    position: relative;
  }

  .dropdown-menu {
    top: auto;
    left: auto;
    border-top: none;
    background-color: color('gray-300');

    &.dropdown-menu-full {
      left: 0;
      right: 0;
    }
    &.dropdown-menu-sm {
      min-width: 160px;
    }
    &.dropdown-menu-md {
      min-width: 320px;
    }
    &.dropdown-menu-lg {
      min-width: 640px;
    }

    .dropdown-menu-content {
      padding: 10px 30px;
    }
  }

  // opens dropdown on hover instead of click
  @media (min-width: $screen-sm-min) {
    .nav li.dropdown:hover {
      background-color: color('gray-300');
      & > ul.dropdown-menu {
        background-color: color('gray-300');
        display: block;
      }
    }
  }
}
